{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\SUBOMMAS\\\\Downloads\\\\WeatherApplication\\\\src\\\\components\\\\SearchBar.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useContext, useRef } from \"react\";\nimport styles from \"./AppBar.module.css\";\nimport { CityContext } from \"../store/WeatherProvider\";\nimport { fetchAPI } from \"../constants\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction SearchBar(props) {\n  _s();\n  const [timerId, setTimerId] = useState(\"\");\n  const cityContext = useContext(CityContext);\n  const onSubmitHandler = async event => {\n    event.preventDefault();\n    const result = await fetchAPI(event.target.xcity.value);\n    //console.log(\"FECTH DEBUG\", typeof (result))\n    cityContext.updateReq(true);\n    if (typeof result === \"object\") {\n      console.log(\"succes\");\n      const {\n        current,\n        location\n      } = await result;\n      const {\n        condition,\n        humidity,\n        last_updated,\n        wind_kph,\n        temp_c,\n        temp_f\n      } = current;\n      const {\n        name,\n        country,\n        tz_id\n      } = location;\n      // console.log(tz_id);\n      const city = {\n        name: name,\n        country: country,\n        timezone: tz_id,\n        weather: {\n          temperature: {\n            celsius: temp_c,\n            fahrenheit: temp_f\n          },\n          weatherCondition: condition.text,\n          windSpeed: wind_kph,\n          humidity: humidity,\n          cloudCoverage: condition.icon,\n          lastUpdated: last_updated\n        }\n      };\n      cityContext.updateCity(city);\n    } else {\n      console.log(\"error\");\n      cityContext.updateCity(result);\n    }\n  };\n  const debounce = (timerId, event) => {\n    if (timerId) {\n      clearTimeout(timerId);\n    }\n    let currentId = setTimeout(() => {\n      fetchAPI(event.target.value);\n      // cityContext.updateCity()\n      //console.log(\"Debounce INPUT::\", event.target.value)\n    }, 500);\n    setTimerId(currentId);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles[\"input-container\"],\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: event => onSubmitHandler(event),\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Search: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"\".concat(props.name, \"...\"),\n        name: \"xcity\",\n        type: \"text\",\n        required: true,\n        onChange: () => cityContext.updateReq(false)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 9\n  }, this);\n}\n_s(SearchBar, \"I0Ob5PMz7K6Q12FEGROzuzJR0tY=\");\n_c = SearchBar;\nexport default SearchBar;\nvar _c;\n$RefreshReg$(_c, \"SearchBar\");","map":{"version":3,"names":["React","useState","useContext","useRef","styles","CityContext","fetchAPI","jsxDEV","_jsxDEV","SearchBar","props","_s","timerId","setTimerId","cityContext","onSubmitHandler","event","preventDefault","result","target","xcity","value","updateReq","console","log","current","location","condition","humidity","last_updated","wind_kph","temp_c","temp_f","name","country","tz_id","city","timezone","weather","temperature","celsius","fahrenheit","weatherCondition","text","windSpeed","cloudCoverage","icon","lastUpdated","updateCity","debounce","clearTimeout","currentId","setTimeout","className","children","onSubmit","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","concat","type","required","onChange","_c","$RefreshReg$"],"sources":["C:/Users/SUBOMMAS/Downloads/WeatherApplication/src/components/SearchBar.jsx"],"sourcesContent":["import React, { useState, useContext, useRef } from \"react\";\r\nimport styles from \"./AppBar.module.css\";\r\nimport { CityContext } from \"../store/WeatherProvider\";\r\n\r\nimport {fetchAPI} from \"../constants\"\r\n\r\nfunction SearchBar(props) {\r\n    const [timerId, setTimerId] = useState(\"\");\r\n    const cityContext = useContext(CityContext);\r\n\r\n    const onSubmitHandler = async (event) => {\r\n        \r\n        event.preventDefault();\r\n        const result = await fetchAPI(event.target.xcity.value);\r\n        //console.log(\"FECTH DEBUG\", typeof (result))\r\n        cityContext.updateReq(true);\r\n        if (typeof (result) === \"object\") {\r\n            console.log(\"succes\")\r\n            const { current, location } = await result;\r\n            const { condition, humidity, last_updated, wind_kph, temp_c, temp_f } = current;\r\n            const { name, country, tz_id } = location\r\n            // console.log(tz_id);\r\n            const city = {\r\n                name: name,\r\n                country: country,\r\n                timezone: tz_id,\r\n                weather: {\r\n                    temperature: {\r\n                        celsius: temp_c,\r\n                        fahrenheit: temp_f,\r\n                    },\r\n                    weatherCondition: condition.text,\r\n                    windSpeed: wind_kph,\r\n                    humidity: humidity,\r\n                    cloudCoverage: condition.icon,\r\n                    lastUpdated: last_updated\r\n                }\r\n            }\r\n            cityContext.updateCity(city);\r\n        }\r\n        else {\r\n            console.log(\"error\")\r\n            cityContext.updateCity(result);\r\n\r\n        }\r\n    }\r\n    const debounce = (timerId, event) => {\r\n        if (timerId) {\r\n            clearTimeout(timerId);\r\n        }\r\n        let currentId = setTimeout(() => {\r\n            fetchAPI(event.target.value);\r\n            // cityContext.updateCity()\r\n            //console.log(\"Debounce INPUT::\", event.target.value)\r\n        }, 500);\r\n        setTimerId(currentId);\r\n    }\r\n    return (\r\n        <div className={styles[\"input-container\"]}>\r\n            <form onSubmit={(event) => onSubmitHandler(event)}>\r\n                <label>Search: </label>\r\n                <input placeholder={`${props.name}...`} name=\"xcity\" type=\"text\" required onChange={()=>cityContext.updateReq(false)} />\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\nexport default SearchBar;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}