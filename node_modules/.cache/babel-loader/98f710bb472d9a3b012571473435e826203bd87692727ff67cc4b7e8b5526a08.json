{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\SUBOMMAS\\\\Downloads\\\\WeatherApplication\\\\src\\\\components\\\\SearchBar.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useContext, useRef } from \"react\";\nimport styles from \"./AppBar.module.css\";\nimport { CityContext } from \"../store/WeatherProvider\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction SearchBar(props) {\n  _s();\n  const [timerId, setTimerId] = useState(\"\");\n  const cityContext = useContext(CityContext);\n  const onSubmitHandler = async event => {\n    event.preventDefault();\n    const result = await fetchAPI(event.target.xcity.value);\n    //console.log(\"FECTH DEBUG\", typeof (result))\n    cityContext.updateReq(true);\n    if (typeof result === \"object\") {\n      console.log(\"succes\");\n      const {\n        current,\n        location\n      } = await result;\n      const {\n        condition,\n        humidity,\n        last_updated,\n        wind_kph,\n        temp_c,\n        temp_f\n      } = current;\n      const {\n        name,\n        country,\n        tz_id\n      } = location;\n      // console.log(tz_id);\n      const city = {\n        name: name,\n        country: country,\n        timezone: tz_id,\n        weather: {\n          temperature: {\n            celsius: temp_c,\n            fahrenheit: temp_f\n          },\n          weatherCondition: condition.text,\n          windSpeed: wind_kph,\n          humidity: humidity,\n          cloudCoverage: condition.icon,\n          lastUpdated: last_updated\n        }\n      };\n      cityContext.updateCity(city);\n    } else {\n      console.log(\"error\");\n      cityContext.updateCity(result);\n    }\n  };\n  const fetchAPI = async city => {\n    if (city.toLowerCase() === \"banglore\" || city.toLowerCase() === \"bengluru\") {\n      city = \"Bangalore\";\n    }\n    let URL = \"https://api.weatherapi.com/v1/current.json?key=dc27acb7394c462a8a6133905240105&q=\".concat(city);\n    // console.log(\"CUSTOM URL::\", URL)\n    try {\n      const response = await axios(URL);\n      if (response.status === 200) {\n        // console.log(\"RESPONSE::\", response);\n        c;\n        const data = await response.data;\n        //console.log(data);\n        return data;\n        //const { condition, humidity, last_updated, wind_kph, temp_c, temp_f } = current;\n      }\n    } catch (error) {\n      if (error.code === \"ERR_BAD_REQUEST\") {\n        return error.message;\n      }\n    }\n  };\n  const debounce = (timerId, event) => {\n    if (timerId) {\n      clearTimeout(timerId);\n    }\n    let currentId = setTimeout(() => {\n      fetchAPI(event.target.value);\n      // cityContext.updateCity()\n      //console.log(\"Debounce INPUT::\", event.target.value)\n    }, 500);\n    setTimerId(currentId);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles[\"input-container\"],\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: event => onSubmitHandler(event),\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"\".concat(props.name, \"...\"),\n        name: \"xcity\",\n        type: \"text\",\n        required: true,\n        onChange: () => cityContext.updateReq(false)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 9\n  }, this);\n}\n_s(SearchBar, \"I0Ob5PMz7K6Q12FEGROzuzJR0tY=\");\n_c = SearchBar;\nexport default SearchBar;\nvar _c;\n$RefreshReg$(_c, \"SearchBar\");","map":{"version":3,"names":["React","useState","useContext","useRef","styles","CityContext","axios","jsxDEV","_jsxDEV","SearchBar","props","_s","timerId","setTimerId","cityContext","onSubmitHandler","event","preventDefault","result","fetchAPI","target","xcity","value","updateReq","console","log","current","location","condition","humidity","last_updated","wind_kph","temp_c","temp_f","name","country","tz_id","city","timezone","weather","temperature","celsius","fahrenheit","weatherCondition","text","windSpeed","cloudCoverage","icon","lastUpdated","updateCity","toLowerCase","URL","concat","response","status","c","data","error","code","message","debounce","clearTimeout","currentId","setTimeout","className","children","onSubmit","placeholder","type","required","onChange","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/SUBOMMAS/Downloads/WeatherApplication/src/components/SearchBar.jsx"],"sourcesContent":["import React, { useState, useContext, useRef } from \"react\";\r\nimport styles from \"./AppBar.module.css\";\r\nimport { CityContext } from \"../store/WeatherProvider\";\r\nimport axios from \"axios\";\r\n\r\nfunction SearchBar(props) {\r\n    const [timerId, setTimerId] = useState(\"\");\r\n    const cityContext = useContext(CityContext);\r\n\r\n    const onSubmitHandler = async (event) => {\r\n        \r\n        event.preventDefault();\r\n        const result = await fetchAPI(event.target.xcity.value);\r\n        //console.log(\"FECTH DEBUG\", typeof (result))\r\n        cityContext.updateReq(true);\r\n        if (typeof (result) === \"object\") {\r\n            console.log(\"succes\")\r\n            const { current, location } = await result;\r\n            const { condition, humidity, last_updated, wind_kph, temp_c, temp_f } = current;\r\n            const { name, country, tz_id } = location\r\n            // console.log(tz_id);\r\n            const city = {\r\n                name: name,\r\n                country: country,\r\n                timezone: tz_id,\r\n                weather: {\r\n                    temperature: {\r\n                        celsius: temp_c,\r\n                        fahrenheit: temp_f,\r\n                    },\r\n                    weatherCondition: condition.text,\r\n                    windSpeed: wind_kph,\r\n                    humidity: humidity,\r\n                    cloudCoverage: condition.icon,\r\n                    lastUpdated: last_updated\r\n                }\r\n            }\r\n            cityContext.updateCity(city);\r\n        }\r\n        else {\r\n            console.log(\"error\")\r\n            cityContext.updateCity(result);\r\n\r\n        }\r\n    }\r\n    const fetchAPI = async (city) => {\r\n        if (city.toLowerCase() === \"banglore\" || city.toLowerCase() === \"bengluru\") {\r\n            city = \"Bangalore\";\r\n        }\r\n        let URL = `https://api.weatherapi.com/v1/current.json?key=dc27acb7394c462a8a6133905240105&q=${city}`;\r\n        // console.log(\"CUSTOM URL::\", URL)\r\n        try {\r\n            const response = await axios(URL);\r\n\r\n            if (response.status === 200) {\r\n                // console.log(\"RESPONSE::\", response);\r\n                c\r\n                const data = await response.data;\r\n                //console.log(data);\r\n                return data;\r\n                //const { condition, humidity, last_updated, wind_kph, temp_c, temp_f } = current;\r\n            }\r\n        }\r\n        catch (error) {\r\n            if (error.code === \"ERR_BAD_REQUEST\") {\r\n                return error.message;\r\n            }\r\n\r\n        }\r\n    }\r\n    const debounce = (timerId, event) => {\r\n        if (timerId) {\r\n            clearTimeout(timerId);\r\n        }\r\n        let currentId = setTimeout(() => {\r\n            fetchAPI(event.target.value);\r\n            // cityContext.updateCity()\r\n            //console.log(\"Debounce INPUT::\", event.target.value)\r\n        }, 500);\r\n        setTimerId(currentId);\r\n    }\r\n    return (\r\n        <div className={styles[\"input-container\"]}>\r\n            <form onSubmit={(event) => onSubmitHandler(event)}>\r\n                <input placeholder={`${props.name}...`} name=\"xcity\" type=\"text\" required onChange={()=>cityContext.updateReq(false)} />\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\nexport default SearchBar;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}